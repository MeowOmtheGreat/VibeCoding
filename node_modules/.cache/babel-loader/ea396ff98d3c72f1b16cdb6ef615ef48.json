{"ast":null,"code":"import React,{useState,useEffect}from'react';import PlayerCard from'./PlayerCard';import SearchBar from'./SearchBar';import SortOptions from'./SortOptions';import Loading from'./Loading';import{players as playersData}from'../data/players';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[players,setPlayers]=useState([]);const[searchQuery,setSearchQuery]=useState('');const[sortOption,setSortOption]=useState('goals');const[isLoading,setIsLoading]=useState(true);const[visibleCards,setVisibleCards]=useState(new Set());useEffect(()=>{// Simulate loading time\nconst timer=setTimeout(()=>{setPlayers(playersData);setIsLoading(false);},2000);return()=>clearTimeout(timer);},[]);useEffect(()=>{const handleScroll=()=>{const cards=document.querySelectorAll('.player-card');const newVisibleCards=new Set(visibleCards);cards.forEach((card,index)=>{const rect=card.getBoundingClientRect();const isVisible=rect.top<window.innerHeight-100;if(isVisible){newVisibleCards.add(index);}});setVisibleCards(newVisibleCards);};window.addEventListener('scroll',handleScroll);handleScroll();// Check initial visibility\nreturn()=>window.removeEventListener('scroll',handleScroll);},[visibleCards]);const handleSearch=query=>{setSearchQuery(query);};const handleSort=option=>{setSortOption(option);};const filteredPlayers=players.filter(player=>player.name.toLowerCase().includes(searchQuery.toLowerCase()));const sortedPlayers=filteredPlayers.sort((a,b)=>{if(sortOption==='goals'){return b.goals-a.goals;}else if(sortOption==='assists'){return b.assists-a.assists;}else{return b.matchesPlayed-a.matchesPlayed;}});if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-controls fade-in-scroll\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch}),/*#__PURE__*/_jsx(SortOptions,{onSortChange:handleSort})]}),/*#__PURE__*/_jsx(\"div\",{className:\"player-cards\",children:sortedPlayers.map((player,index)=>/*#__PURE__*/_jsx(\"div\",{style:{'--card-index':index},className:\"card-wrapper \".concat(visibleCards.has(index)?'fade-in-scroll visible':'fade-in-scroll'),children:/*#__PURE__*/_jsx(PlayerCard,{player:player})},player.jerseyNumber))})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","PlayerCard","SearchBar","SortOptions","Loading","players","playersData","jsx","_jsx","jsxs","_jsxs","Dashboard","setPlayers","searchQuery","setSearchQuery","sortOption","setSortOption","isLoading","setIsLoading","visibleCards","setVisibleCards","Set","timer","setTimeout","clearTimeout","handleScroll","cards","document","querySelectorAll","newVisibleCards","forEach","card","index","rect","getBoundingClientRect","isVisible","top","window","innerHeight","add","addEventListener","removeEventListener","handleSearch","query","handleSort","option","filteredPlayers","filter","player","name","toLowerCase","includes","sortedPlayers","sort","a","b","goals","assists","matchesPlayed","className","children","onSearch","onSortChange","map","style","concat","has","jerseyNumber"],"sources":["D:/real-madrid-stats-app/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PlayerCard from './PlayerCard';\nimport SearchBar from './SearchBar';\nimport SortOptions from './SortOptions';\nimport Loading from './Loading';\nimport { players as playersData } from '../data/players';\n\nconst Dashboard = () => {\n    const [players, setPlayers] = useState([]);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [sortOption, setSortOption] = useState('goals');\n    const [isLoading, setIsLoading] = useState(true);\n    const [visibleCards, setVisibleCards] = useState(new Set());\n\n    useEffect(() => {\n        // Simulate loading time\n        const timer = setTimeout(() => {\n            setPlayers(playersData);\n            setIsLoading(false);\n        }, 2000);\n\n        return () => clearTimeout(timer);\n    }, []);\n\n    useEffect(() => {\n        const handleScroll = () => {\n            const cards = document.querySelectorAll('.player-card');\n            const newVisibleCards = new Set(visibleCards);\n\n            cards.forEach((card, index) => {\n                const rect = card.getBoundingClientRect();\n                const isVisible = rect.top < window.innerHeight - 100;\n\n                if (isVisible) {\n                    newVisibleCards.add(index);\n                }\n            });\n\n            setVisibleCards(newVisibleCards);\n        };\n\n        window.addEventListener('scroll', handleScroll);\n        handleScroll(); // Check initial visibility\n\n        return () => window.removeEventListener('scroll', handleScroll);\n    }, [visibleCards]);\n\n    const handleSearch = (query) => {\n        setSearchQuery(query);\n    };\n\n    const handleSort = (option) => {\n        setSortOption(option);\n    };\n\n    const filteredPlayers = players.filter(player =>\n        player.name.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n    const sortedPlayers = filteredPlayers.sort((a, b) => {\n        if (sortOption === 'goals') {\n            return b.goals - a.goals;\n        } else if (sortOption === 'assists') {\n            return b.assists - a.assists;\n        } else {\n            return b.matchesPlayed - a.matchesPlayed;\n        }\n    });\n\n    if (isLoading) {\n        return <Loading />;\n    }\n\n    return (\n        <div className=\"dashboard\">\n            <div className=\"dashboard-controls fade-in-scroll\">\n                <SearchBar onSearch={handleSearch} />\n                <SortOptions onSortChange={handleSort} />\n            </div>\n            <div className=\"player-cards\">\n                {sortedPlayers.map((player, index) => (\n                    <div\n                        key={player.jerseyNumber}\n                        style={{'--card-index': index}}\n                        className={`card-wrapper ${visibleCards.has(index) ? 'fade-in-scroll visible' : 'fade-in-scroll'}`}\n                    >\n                        <PlayerCard player={player} />\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}